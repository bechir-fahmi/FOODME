<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js" xmlns="http://www.w3.org/1999/html"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.23/angular.min.js"></script>

<h2 style="margin-left: 20px" mat-dialog-title>{{ title }}</h2>
<form #CarhopAddressForm="ngForm"  [formGroup]="formValue">
  <mat-card class="demo-card" style="margin-left: 20px">

    <div class="row" style="margin-top: 20px">
      <div class="col-lg-4">
        <mat-form-field class="demo-full-width" style="width: 395px">
          <mat-label>Brand selected *</mat-label>
          <input matInput [(ngModel)]="selectedBrand" name="selectedBrand" formControlName="selectedBrand" />
        </mat-form-field>
      </div>
      <div class="col-lg-4">
        <mat-form-field class="demo-full-width" style="width: 395px">
          <mat-label>Restaurant selected *</mat-label>
          <input matInput [(ngModel)]="selectedRestaurant" name="selectedRestaurant" formControlName="selectedRestaurant" />
        </mat-form-field>
      </div>

      <div class="col-lg-4">
        <button mat-raised-button *ngIf="!showMap1" (click)="ShowMap1()">Show Brand Restaurant</button>
        <button mat-raised-button *ngIf="showMap1" (click)="HideMap1()">Hide Brand Restaurant</button>
      </div>
    </div>


    <div class="row" style="margin-top: 20px" *ngIf="showMap1">
      <div class="col-lg-4">
        <mat-form-field class="demo-full-width" style="margin-left: 5px">
          <mat-label>Brand </mat-label>

          <mtx-select
            [items]="brands"
            bindValue="id"
            name="brand"
            (change)="myChange($event)"

          >
            <ng-template ng-label-tmp let-item="item">
              {{item.nameLanguageResources[0].value}}
            </ng-template>

            <ng-template ng-option-tmp let-item="item" let-index="index">
              {{item.nameLanguageResources[0].value}}
            </ng-template>

          </mtx-select>
        </mat-form-field>
      </div>
      <div class="col-lg-4">
        <mat-form-field class="demo-full-width">
          <mat-label>Restaurant </mat-label>

          <mtx-select
            [items]="restaurants"
            bindValue="id"
            name="brand"
            (change)="myChangeRestaurant($event)"

          >
            <ng-template ng-label-tmp let-item="item">
              {{item.nameLanguageResources[0].value}}
            </ng-template>

            <ng-template ng-option-tmp let-item="item" let-index="index">
              {{item.nameLanguageResources[0].value}}
            </ng-template>

          </mtx-select>
        </mat-form-field>
      </div>

      <div class="col-lg-4">

      </div>
    </div>
    <div class="row" style="margin-top: 20px; margin-left: 10px">
      <div class="col-lg-9">
        <mat-form-field class="demo-full-width" style="width: 395px">
          <mat-label>Address *</mat-label>
          <input matInput name="Address" [(ngModel)]="CarhopAddress" formControlName="CarhopAddress"/>
        </mat-form-field>
      </div>
      <div class="col-lg-3" style="margin-bottom: 10px">
        <button mat-raised-button *ngIf="!showMap" (click)="ShowMap()">Show Map</button>
        <button mat-raised-button *ngIf="showMap" (click)="HideMap()">Hide Map</button>
      </div>
      <div class="row" style="margin-top: 20px; margin-left: 10px" *ngIf="showMap">

        <div id="map"    style="height:500px ; width: 600px;" *ngIf="showMap"></div>

    </div>
    <div class="row" style="margin-top: 20px">
      <div class="col-lg-6">
        <mat-form-field class="demo-full-width" style="margin-left: 5px" *ngIf="showMap">
          <mat-label>Latitude</mat-label>
          <input matInput type="number"  name="latitude" formControlName="CarhopAddresslatitude"  [(ngModel)]="CarhopAddresslatitude" />
        </mat-form-field>
      </div>

      <div class="col-lg-6">
        <mat-form-field class="demo-full-width" style="margin-left: 5px; width: 600px"  *ngIf="showMap">
          <mat-label>Longitude</mat-label>
          <input matInput type="number"  name="longitude"  formControlName="CarhopAddresslongitude"  [(ngModel)]="CarhopAddresslongitude" />
        </mat-form-field>
      </div>
    </div>

    <div class="row" style="margin-bottom: 10px">
      <div class="col-lg-3" style="margin-top: 40px; margin-left: 10px">
        <td><mat-checkbox formControlName="CarhopAddresStatus" ></mat-checkbox> <span>Is active</span></td>
      </div>

      <div class="col-lg-8">
        <span>Description</span>
        <textarea
          class="form-control"
          id="exampleFormControlTextarea1"
          [(ngModel)]="CarhopAddressdescription"
          name="descriptionLabelCode"
          rows="3"
          formControlName="CarhopAddressdescription"
        ></textarea>
      </div>
      <div class="col-lg-1"></div>
    </div>
    </div>

    <div class="row" style="margin-top: 20px; margin-left: 10px">
      <div style="text-align: center">
        <div [innerHtml]="msg" *ngIf="msg" style="color: red"></div>

        <div class="col-lg-3" style="margin-bottom: 10px">
          <p>
            <input type="file" (change)="selectFile($event)" />
          </p>
        </div>

        <div><img style="width: 600px" [src]="url" *ngIf="url" /></div>
      </div>
    </div>
  </mat-card>

  <mat-dialog-actions align="end">
    <button
      style="float: right; margin-left: 5px"
      type="submit"
      mat-raised-button
      color="primary"
      [disabled]="!CarhopAddressForm.form.valid"
      mat-dialog-close
      (click)="createCarhopAddress()"
    >
      Submit
    </button>
    <button style="float: right" mat-raised-button mat-dialog-close>Cancel</button>
  </mat-dialog-actions>
</form>
